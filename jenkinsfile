pipeline{
    agent none
    stages
    {
        stage("Discarding old Build and creating new build"){
            agent
            {
                label "build_node"
            }
            steps{
                print("discarding old build")
                sh "mvn clean"
                print("creating new build")
                sh "mvn install"
                dir('/home/build_folder/workspace/build_deploy_pipeline/target/'){
                stash includes: 'test-web.war' , name: 'artifact' 
              }    
            }
        }
      
     }
}
